# chapter2. 객체지향 5원칙과 테스트 설계

## 개요
이 챕터에서는 객체지향 5원칙(SOLID)과 이 원칙이 테스트 설계에 미치는 영향에 대해 다룹니다. Node.js/Express, JavaScript/TypeScript와의 비교도 포함합니다.

---

## 1. 객체지향 5원칙(SOLID)란?
SOLID는 객체지향 설계의 5가지 핵심 원칙을 의미합니다. 각 원칙은 유지보수성과 테스트 용이성을 높이기 위해 고안되었습니다.

### 1.1 단일 책임 원칙(SRP)
- **정의:** 하나의 클래스(또는 함수)는 하나의 책임만 가져야 한다.
- **테스트 관점:** 책임이 분리되어 있으면, 각 기능을 독립적으로 테스트하기 쉽다.
- **Node/Express/TS 비교:** JS/TS에서도 함수/클래스 단위로 책임을 분리하면 단위 테스트가 쉬워짐.

### 1.2 개방-폐쇄 원칙(OCP)
- **정의:** 확장에는 열려 있고, 변경에는 닫혀 있어야 한다.
- **테스트 관점:** 새로운 기능 추가 시 기존 테스트가 깨지지 않음.
- **Node/Express/TS 비교:** 미들웨어, DI 패턴 등으로 확장성 확보 가능.

### 1.3 리스코프 치환 원칙(LSP)
- **정의:** 자식 클래스는 부모 클래스의 기능을 대체할 수 있어야 한다.
- **테스트 관점:** 상속 구조에서 테스트 코드의 재사용성이 높아짐.
- **Node/Express/TS 비교:** JS의 프로토타입 상속, TS의 클래스 상속과 유사.

### 1.4 인터페이스 분리 원칙(ISP)
- **정의:** 인터페이스는 클라이언트가 사용하지 않는 메서드에 의존하지 않아야 한다.
- **테스트 관점:** 불필요한 의존성 없이 필요한 기능만 테스트 가능.
- **Node/Express/TS 비교:** TS의 인터페이스, JS의 duck typing 활용.

### 1.5 의존 역전 원칙(DIP)
- **정의:** 고수준 모듈이 저수준 모듈에 의존하지 않고, 추상화에 의존해야 한다.
- **테스트 관점:** 의존성 주입(DI)으로 Mock 객체를 활용한 테스트가 쉬워짐.
- **Node/Express/TS 비교:** DI 라이브러리, Mocking 프레임워크 활용.

---

## 2. SOLID와 테스트 설계의 관계
- SOLID 원칙을 지키면 테스트 코드가 단순해지고, 유지보수가 쉬워짐
- Mock 객체, Stub, Spy 등 테스트 도구 활용이 용이해짐
- Node/Express/TS에서도 동일하게 적용 가능

---

## 3. 실무 적용 예시
- **자바(Spring Boot):**
  - DI: @Autowired, 생성자 주입
  - Mock: Mockito, @MockBean
- **Node.js/Express:**
  - DI: awilix, typedi 등
  - Mock: jest.mock(), sinon 등

---

## 4. 결론
- SOLID 원칙은 테스트 가능한 코드를 만드는 데 필수적
- 자바, JS/TS 모두에서 적용 가능하며, 테스트 설계의 기본이 됨

---

> **Tip:**
> - SOLID 원칙을 지키면 리팩토링과 테스트 자동화가 쉬워집니다.
> - 테스트 코드는 실제 코드와 분리하여 관리하는 것이 좋습니다.
